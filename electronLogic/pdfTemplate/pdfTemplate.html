<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preventivo</title>
    <!-- CSS will be inlined by ipcPdf -->
    <link rel="stylesheet" type="text/css" href="./pdfTemplate.css">
    <link rel="stylesheet" type="text/css" href="file://{{cssPath}}">
</head>

<body>
    <div class="page">

        <!-- ===== Header ===== -->
        <header class="header">
            <div class="identity">
                <img class="logo" src="{{logoDataUrl}}" alt="Logo Carrozzeria">
            </div>
            <div class="brand">
                <h1 class="brand-name">CARROZZERIA TEAM</h1>
                <p class="brand-meta">
                    Osteria del Bagno 14 · 47922 Rimini (RN)<br>
                    339 223 39 41 ·
                    <a href="mailto:info@carrozzeriateam.it">info@carrozzeriateam.it</a><br>
                    P.I. 02005990409
                </p>
            </div>
            <div class="doc-title">PREVENTIVO</div>
        </header>

        <!-- ===== Vehicle + Client ===== -->
        <section class="panel">
            <div class="card">
                <div class="card-title">Dati veicolo / cliente</div>

                <!-- Colonna sinistra: veicolo -->
                <div class="kv-grid">
                    <div class="kv-row">
                        <div class="kv-label">Targa</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{licensePlate}}</span></span>
                        </div>
                    </div>
                    <div class="kv-row">
                        <div class="kv-label">Modello</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{model}}</span></span>
                        </div>
                    </div>
                    <div class="kv-row">
                        <div class="kv-label">Anno</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{year}}</span></span>
                        </div>
                    </div>
                    <div class="kv-row">
                        <div class="kv-label">Telaio</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{chassis}}</span></span>
                        </div>
                    </div>
                </div>

                <!-- Colonna destra: cliente / assicurazione / data -->
                <div class="kv-grid">
                    <div class="kv-row">
                        <div class="kv-label">Cliente</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{client}}</span></span>
                        </div>
                    </div>
                    <div class="kv-row">
                        <div class="kv-label">Assicurazione</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{insurance}}</span></span>
                        </div>
                    </div>
                    <div class="kv-row">
                        <div class="kv-label">Data preventivo</div>
                        <div class="kv-pill">
                            <span class="pill"><span class="ph">{{quoteDate}}</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== Items ===== -->
        <section class="panel">
            <div class="table-card">
                <table class="items">
                    <colgroup>
                        <col class="col-fonte">
                        <col class="col-descrizione">
                        <col class="col-code">
                        <col class="col-code">
                        <col class="col-code">
                        <col class="col-code">
                        <col class="col-qty">
                        <col class="col-price">
                        <col class="col-total">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>Citaz. fonte</th>
                            <th>Descrizione</th>
                            <th>SR</th>
                            <th>LA</th>
                            <th>VE</th>
                            <th>ME</th>
                            <th>Q.tà</th>
                            <th>Prezzo</th>
                            <th>Totale</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{items}}
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ===== Riepilogo lavorazioni ===== -->
        <section class="summary-section">
            <div class="grid-head">
                <div class="row-name"></div>
                <div class="gh">Ore</div>
                <div class="gh">Prezzo</div>
                <div class="gh">IVA %</div>
                <div class="gh">Totale</div>
                <div class="gh">Imponibile</div>
                <div class="gh">Imposta</div>
                <div class="gh">Totale IVA incl.</div>
            </div>

            <div class="row-list">

                <!-- Row 1: Totale Ricambi -> complementary.partsTotal -->
                <div class="row-card">
                    <div class="row-name">Totale Ricambi</div>

                    <!-- Ore (vuoto) -->
                    <div class="pill-cell"></div>

                    <!-- Prezzo (vuoto) -->
                    <div class="pill-cell"></div>

                    <!-- IVA % -->
                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{partsTotal_tax}}</span></span>
                        </span>
                    </div>

                    <!-- Totale -->
                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{partsTotal_total}}</span></span>
                        </span>
                    </div>

                    <!-- Imponibile -->
                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{partsTotal_taxable}}</span></span>
                        </span>
                    </div>

                    <!-- Imposta -->
                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{partsTotal_taxAmount}}</span></span>
                        </span>
                    </div>

                    <!-- Totale IVA inclusa -->
                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{partsTotal_totalWithTax}}</span></span>
                        </span>
                    </div>
                </div>

                <!-- Row 2: Voci complementari -> complementary.parts -->
                <div class="row-card">
                    <div class="row-name">Voci complementari</div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{parts_quantity}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{parts_price}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{parts_tax}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{parts_total}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{parts_taxable}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{parts_taxAmount}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{parts_totalWithTax}}</span></span>
                        </span>
                    </div>
                </div>

                <!-- Row 3: Manodopera Carrozzeria -> complementary.bodywork -->
                <div class="row-card">
                    <div class="row-name">Manodopera Carrozzeria</div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{bodywork_quantity}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{bodywork_price}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{bodywork_tax}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{bodywork_total}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{bodywork_taxable}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{bodywork_taxAmount}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{bodywork_totalWithTax}}</span></span>
                        </span>
                    </div>
                </div>

                <!-- Row 4: Manodopera Meccanica -> complementary.mechanics -->
                <div class="row-card">
                    <div class="row-name">Manodopera Meccanica</div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{mechanics_quantity}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{mechanics_price}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{mechanics_tax}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{mechanics_total}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{mechanics_taxable}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{mechanics_taxAmount}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{mechanics_totalWithTax}}</span></span>
                        </span>
                    </div>
                </div>

                <!-- Row 5: Materiale di consumo -> complementary.consumables -->
                <div class="row-card">
                    <div class="row-name">Materiale di consumo</div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{consumables_quantity}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{consumables_price}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap">
                            <span class="pill"><span class="ph">{{consumables_tax}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{consumables_total}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{consumables_taxable}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{consumables_taxAmount}}</span></span>
                        </span>
                    </div>

                    <div class="pill-cell">
                        <span class="pill-wrap euro">
                            <span class="pill"><span class="ph">{{consumables_totalWithTax}}</span></span>
                        </span>
                    </div>
                </div>

            </div>
        </section>


        <!-- ===== Totals ===== -->
        <section class="section totals">
            <div class="row-card totals-row">
                <div class="row-name">Totale senza IVA</div>
                <div class="pill-wrap euro">
                    <span class="pill"><span class="ph">{{subtotal}}</span></span>
                </div>
            </div>
            <div class="row-card totals-row">
                <div class="row-name">Totale IVA</div>
                <div class="pill-wrap euro">
                    <span class="pill"><span class="ph">{{iva}}</span></span>
                </div>
            </div>
            <div class="row-card totals-row highlight">
                <div class="row-name">Totale IVA inclusa</div>
                <div class="pill-wrap euro">
                    <span class="pill"><span class="ph">{{totalWithIva}}</span></span>
                </div>
            </div>
        </section>

        <!-- ===== Footer ===== -->
        <footer class="footer">
            <div class="notes">
                <p>Il preventivo ha una validità di 30 giorni; dopo tale data potrebbe subire variazioni.</p>
                <p>I valori del documento sono espressi in EURO.</p>
            </div>
            <div class="privacy">
                <p>
                    Ai sensi dell'art. 13 del Regolamento europeo 679/2016 desideriamo informarla che i dati da Lei
                    forniti
                    formeranno oggetto di trattamento unicamente ai fini dello svolgimento del rapporto commerciale
                    tra noi
                    intercorrente e/o ai fini dell'adempimento degli obblighi contabili e fiscali, nel pieno rispetto
                    delle norme
                    di cui alla legge indicata, rispettando i principi di liceità e correttezza, garantendole comunque
                    il pieno
                    esercizio dei Suoi diritti.
                </p>
            </div>
            <div class="footer-line"></div>
            <div class="page-hint">Preventivo · Carrozzeria Team</div>
        </footer>

    </div>
</body>

</html>